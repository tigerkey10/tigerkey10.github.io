---
title : "[데이터시각화/파이썬] matplotlib 을 이용해서 그래프 그리기"
excerpt : "공부 중인 내용을 정리한 글"

categories : 
- Data Science
- python
- matplotlib

tags : 
- [data structure, computer science, study, data science, computer engineering]

toc : true 
toc_sticky : true 

date : 2021-06-21
last_modified_at : 2021-06-21

---
---
공부 중인 내용을 기록으로 남겨, 
나중에 다시 빠르게 '불러오기' 위한 저장소.

# 데이터 시각화 하기 
### 데이터사이언스 공부 기반이 되는 필수 수학 공부 중 만난 시각화 방법들을 기록한다. 
- 사용한 라이브러리 : matplotlib 

```python
import matplotlib as plt # plt라는 약어로 불러오기 위함. 
# 지금 시점에서 나는 스타트업 파일을 적용해서, 파이썬3 실행할 때 마다 자동으로 matplotlib을 불러오도록 지정해뒀다. 

# 스타트업 파일은 내가 파이썬3를 실행할 때, 자동으로 가장 먼저 불러올 코드 뭉치, 모듈 등을 IDLE 등을 통해 기록. 파이썬 스크립트를 만든 뒤, 파이썬이 설치되어 있는 폴더 - 스타트업 폴더 - 에 붙여놓아두면 된다. 

# 00, 01 이런 식으로 파일 명을 해두는 것이 좋다. 00이면 가장 먼저 로드, 01 이면 그 다음으로 코드 뭉치를 자동 로드해온다. 
```

# 라인플롯 

- 가장 많이 사용한 그래프이다. 
- 구현이 간단해서 쉽게 사용할 수 있다. 
- 라인플롯 불러오기 
```python
plt.plot(x값, y값...)  #x값 y값 말고도 수많은 argument를 지정해 줄 수 있다. 가장 기본은 이거다. 
```
- 라인플롯의 가장 기본 원리는 x점, 그리고 각 x점에 해당하는 y점을 지정받아, (x,y) 점을 2차원 벡터공간 상에 일일이(!) 찍어서 선(라인)으로 된 그래프를 그리는 것이다. 
- 예 : 

```python
xx = np.linspace(-3,3,1000)
def f(a) : 
    return a**2
y = f(xx)

plt.plot(xx, y)
```
<img width="737" alt="Screen Shot 2021-06-21 at 15 15 50" src="https://user-images.githubusercontent.com/83487073/122715249-923e7100-d2a3-11eb-9e15-c5fed3c4c06b.png">

이렇게 라인 플롯을 그릴 수 있다. 

# 3D 서피스 플롯
- 2차원 함수를 3차원 벡터공간 상에 나타내서 시각화 할 때 쓰기 좋다. 
- 말 그대로 'surface' 표면을 표현해준다. 
- 2차원 공간상의 x,y 점<그리드포인트>라고 한다. 을 2차원 함수에 넣어서 나온 결과값인 Z값들을 3차원 공간상에 표현한 것이다. 

```python
xx = np.linspace(-3,5,100)
yy = np.linspace(-3,5,100)
def f(a,b) : 
    return a**2+(3*b)
X,Y = np.meshgrid(xx,yy) #그리드포인트 생성 #각 (x,y)점들
Z = f(X,Y)
ax = plt.gca(projection='3d')
ax.plot_surface(X,Y,Z, linewidth=0.1)

plt.title('서피스 플롯 예시')
plt.show()
```
<img width="731" alt="Screen Shot 2021-06-21 at 15 30 36" src="https://user-images.githubusercontent.com/83487073/122716756-a3887d00-d2a5-11eb-80dd-13f638c4b70d.png">


# 컨투어 플롯(등고선 플롯)
- 서피스플롯은 말 그대로 3차원 형상으로 2차원 함수를 시각화했다면, 컨투어 플롯은 2차원 등고선 형상으로 2차원 다변수함수를 표현한다. 
- Z값이 같은 그리드포인트들은 하나의 등고선 라인에 포함된다(원이든. 타원이든 이룬다)
- 다변수 정규분포 등을 나타내는 데 유용하게 사용한다. 

```python
xx = np.linspace(-20,20,100)
yy = np.linspace(-20,20,100)
X,Y = np.meshgrid(xx,yy) #그리드포인트 생성

def f(a,b) : 
    return (a-3)**2+(b-2)**2

Z = f(X,Y)

plt.figure(figsize=(10,5))
plt.contour(X,Y,Z)
plt.title('컨투어플롯 예시')
plt.show()
```
<img width="738" alt="Screen Shot 2021-06-21 at 15 38 49" src="https://user-images.githubusercontent.com/83487073/122717600-c8312480-d2a6-11eb-8121-6a82d466ef87.png">

# matplotlib 유용한 메서드 정리 
### plt.figure(figsize=(가로, 세로))
- 그래프 그리기 전 그래프 사이즈를 얼만큼으로 할 건지 지정해줄 수 있었다. 
### plt.text(x점, y점, '텍스트 내용', 등등)
- 벡터공간 x,y좌표 상에 텍스트를 적을 수 있다. 
### plt.xticks(반복가능자)
- 괄호 안의 반복가능자를 받아 x축에 수직인 축을 그려준다. 
### plt.yticks(반복가능자)
- 괄호 안의 반복가능자 받아 y충게 수직인 축 그려준다. 
### plt.axvline(x좌표,ls='-.'(라인 스타일),c='k'(라인 색상)) 
- x축에 수직인 직선을 그어준다. (a x vertical line) 
- c = 'k' <검정>
- c = 'b' <파랑>
- c = 'r' <빨강> 등 색상 지정가능했다. 
### plt.axhline(y좌표, ls='--',c='b')
- x축에 수평인(=y축에 수직인) 직선 그어준다. 
- 다른 내용은 axvline() 과 같다. 
### plt.xlim(시작점, 끝점)
- x축 어디부터 어디까지 나타낼 건지 지정할 수 있다. 
- x.limit제한
### plt.ylim(시작점, 끝점)
- y축 어디부터 어디까지 나타낼 건지 지정할 수 있다. 
- y.limit제한
### plt.tight_layout() 
- plt.subplot() 등을 이용해서 여러 개 그래프 한 지면에 그리는 경우 유용하다. 
- 그래프 간 축. 제목 등이 좁은 지면 공간 때문에 겹치는 경우가 생기는데, 그래프 간 간격 적당히 조정해서 이런 문제 해결해준다. 
### plt.subplot(221,222,223,224...)
- 서브플롯, 그러니까 작은 플롯 여러개를 동시에 한 지면에 나타내준다. 
- 그냥 플롯을 그리면 한 개 플롯이 한 개 지면 전체를 차지하게 된다. 
- 여러 개 서브 플롯을 1개 셀 결과로 동시에 출력할 수 있다. 
- 괄호 안에는 플롯 사이즈와 관련 있는 숫자들을 넣어주면 되었다. 숫자를 직접 넣고 실행해보면서 적정한 플롯 크기 찾는 게 편했다. 
### plt.show() 
- 그래프 다 그린 뒤에, 입력해주면 깔끔하게 정돈된 그래프를 출력해준다. 
### plt.title('그래프 제목')
- 그래프 1개의 제목을 붙여줄 수 있다. 
### plt.xlabel('x축에 붙일 이름')
- 그래프 x축이 뭘 말하는지 이름 붙여줄 수 있다.
### plt.ylabel('y축에 붙일 이름')
- 그래프 y축이 뭘 말하는지 이름 붙여줄 수 있다. 
### plt.suptitle('대 제목')
- 여러 개 서브플롯이 있는 경우, plt.title()로는 각 서브플롯마다 그래프 제목 붙여줄 수 있고, 
- plt.suptitle('대 제목')으로는 전체 서브플롯들의 1개 대 제목을 붙일 수 있다. 




# + 공부하면서 더 더 추가해 나가기 




