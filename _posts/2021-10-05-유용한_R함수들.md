---
title : "[R을 이용한 데이터분석] 데이터분석에 유용한 R 함수 정리"
excerpt : "공부 중인 내용을 정리한 글"

categories : 
- R

tags : 
- [R]

toc : true 
toc_sticky : true 
use_math : true

date : 2021-10-05
last_modified_at : 2021-10-05

---

# which()

TRUE 값들의 벡터/데이터프레임 내 인덱스를 반환한다. 

- which(TRUE/FALSE 반환하는 어떤 조건)

---

# complete.cases()

벡터에서는 NA 값이 아닌 값들에 TRUE 반환, NA 값들에 대해서는 FALSE 반환한다. 

데이터프레임에서는 NA값을 포함하지 않는 데이터레코드(행)에 대해 TRUE 반환한다. 

NA값 포함하는 데이터레코드(행)에 대해서는 FALSE 반환한다. 

---

# is.na()

벡터/데이터프레임 내에 NA값에 대해서는 TRUE 반환, NA 아닌 값에 대해서는 FALSE 반환한다. 

---

# str()

데이터프레임의 각종 특징 출력해준다.

---

# gsub(): 텍스트마이닝에 매우 유용할 듯 하다.

## gsub('a', '', 'abcdef') 

abcdef 에서 a 를 '' 로 변환해라는 말이다. 

## gsub(',','', '22,345') 

22,345 에서 , 찾아서 '' 로 바꾸라는 말이다.

---

# apply()

apply(행렬, MARGIN=, FUN=)
- MARGIN: 1을 하면 행, 2를 하면 열
- FUN: 행렬의 행. 열에 적용할 함수

---

# pnorm()

정규분포에서 $P(X \leq x)$ 계산한다. 

- pnorm(x, $\mu$, $\sigma$, lower.tail=TRUE)

- lower.tail=FALSE 이면, $P(X > x)$ 계산한다. 

예를 들어 정규분포에서 $X=5$ 와 $X=10$ 사이 수가 실현될 확률을 알고 싶다면, 다음과 같이 명령할 수 있다. 

$\Rightarrow$

$P(5 \leq x)$ and $P(x \leq 10)$

```R
pnorm(10, 평균, 표준편차, lower.tail=TRUE) - pnorm(5, 평균, 표준편차, lower.tail=TRUE)
```

 
# qnorm()

정규분포에서 특정 면적에 해당하는 $x$ 값을 계산해준다. 

- qnorm(면적넓이(확률값), $\mu$, $\sigma$)

예를 들어 정규분포에서 상위 10% 면적의 시작점에 해당하는 $x$ 값을 찾고 싶다면, 다음과 같이 하면 된다. 

```R
qnorm(0.9, 평균, 표준편차)
```
---

# quantile()

데이터셋 원소 중 각 % 별 분위수 알려주는 명령이다. 

- quantile(데이터, probs=seq(몇 분위수로 할 것인가?))

---

# cut()

데이터셋을 몇 개 구간으로 나눠 묶어주는(쪼개주는) 명령이다. 

```R
cut(벡터, breaks=, labels=, include.lowest=TRUE, right=FALSE)
```

- breaks: bin 경계에 해당하는 값들 벡터 꼴로 입력한다. 또는 몇 개 구간으로 나눌건지 정수 n 넣어도 된다. (5개 구간으로 쪼갤 거면 breaks=5 넣으면 된다)
- labels: 각 bin에 label(이름, 카테고리값)을 붙인다
- right=FALSE: 간격이 왼쪽으로는 닫혀있고 오른쪽으로는 열려있게 하는 옵션이다
- include.lowest=TRUE: right=FALSE 옵션과 함께 쓴다. 가장 큰 값이 마지막 bin에 포함되도록 한다. 

# levels()

cut과 함께 

levels(cut(데이터셋, breaks=5)) 이런 식으로 쓰면

데이터셋을 쪼갠 각 5개 구간 범위(시작점-끝점)를 보여준다. 

---

# paste()

```R
paste(벡터1, 벡터2, 벡터3)
```

- 벡터 1,2,3 을 요소별로 '합친다'
- 요소들을 하나로 이어 붙여서 문자열 하나로 만든다. 

그림 보면 이해가 쉽다. 

<img width="749" alt="Screen Shot 2021-10-12 at 23 00 34" src="https://user-images.githubusercontent.com/83487073/136970582-d7d175cc-72c4-4420-976e-68ee29742cac.png">

이런 식으로 만든다는 거다. 

---

# table()

도수분포표 출력해준다. 

- 각 변숫값 별로 총 몇번 실현됬는지 알려준다. 


